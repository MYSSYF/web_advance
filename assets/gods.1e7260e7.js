import{f as l,s as r,g as c,h as i,i as e,j as n,k as d,y as u}from"./index.9963496b.js";const h=l("products",{state:()=>({products:[],coments:[],single:[],id:null,id2:null,localStorageProducts:[],zamba:{}}),getters:{getProducts:a=>[...a.products],getFilterProducts:a=>a.products.filter(o=>(console.log(a.zamba),a.zamba.palabra?o.description.includes(a.zamba.palabra)||o.name.includes(a.zamba.palabra):!0)),getComents:a=>[...a.coments]},actions:{newProduct(a){this.localStorageProducts.push(a),this.products.push(a),localStorage.setItem("products",JSON.stringify(this.localStorageProducts))},loadProducts(){this.localStorageProducts=JSON.parse(localStorage.getItem("products")),this.products=this.products.concat([...this.localStorageProducts])},async zapato(a){const t=r(e,"productos",a),o=await c(t);if(o.exists()){const s={id:o.id,image:o.data().image,name:o.data().name,price:o.data().price,zone:o.data().zone,type:o.data().type,descripcion:o.data().descripcion};this.single=s}else console.log("No such document!")},funcy(a,t){this.zamba[a]=t},async subir(a){let t=String(Math.floor(Math.random()*8999+1e3));this.id=t;let o=a;a.id=t;try{await i(r(e,"productos",t),o),alert("Product uploaded")}catch(s){console.log(s)}},async casualComent(a){let t=String(Math.floor(Math.random()*899+100));this.id2=t;let o=a;a.id2=t;try{await i(r(e,"coments",t),o),alert("Product uploaded")}catch(s){console.log(s)}},async aclarando(){(await n(d(e,"productos"))).forEach(t=>{console.log(t.id," => ",t.data());const o={id:t.id,image:t.data().image,name:t.data().name,price:t.data().price,zone:t.data().zone,type:t.data().type,descripcion:t.data().descripcion};this.products.push(o)})},async mostrar(){this.list=[],this.products=[],this.aclarando(),console.log(this.products);let a,t,o=[];for(let s=0;s<localStorage.length;s++)a=localStorage.getItem(localStorage.key(s)),t=JSON.parse(a),this.products.push(t);for(let s=0;s<o.length;s++)this.productos=o[s],this.list.push(this.productos)},async mostrarC(){this.describiendo(),console.log(this.coments);let a=[];for(let t=0;t<a.length;t++)this.coments=a[t],this.list2.push(this.coments)},yap(){return this.coments},async describiendo(){(await n(d(e,"coments"))).forEach(t=>{console.log(t.id," => ",t.data());const o={id:t.data().id2,prod:t.data().producto,user:t.data().usuario,coment:t.data().comentario};this.coments.push(o)})},async getUser(a){const t=r(e,"users",a);try{return(await c(t)).data()}catch(o){console.log(o)}},async KILL(a){await u(r(e,"coments",a))}}});export{h as t};
